{"google":"UA-37513727-1","tagline":"Install and configure check_mk agent and Nagios plugin","note":"Don't delete this file! It's used internally to help with page regeneration.","body":"# check_mk\r\n\r\nPuppet module for installing and configuring a Nagios server with check_mk and\r\ncheck_mk agents.  Agent hostnames are automatically added to the server\r\nall_hosts configuration using stored configs.\r\n\r\nCurrently only tested on Redhat-like systems.\r\n\r\n## Server\r\n\r\n* Installs nagios packages from EPEL.\r\n\r\n* Unpacks the check_mk tarball and runs the setup script - this requires\r\ninstalling the g++ compiler and related tools so if this is an issue then use\r\nthe OMD distribution instead (which you should probably use anyway for any\r\nimportant setup).\r\n\r\n* Populates the all_hosts array in /etc/check_mk/main.mk with hostnames\r\n  exported by check::agent classes on agent hosts\r\n\r\n### Example\r\n\r\n    class { 'check_mk':\r\n      version => '1.2.0p3'\r\n    }\r\n\r\n### check_mk parameters\r\n\r\n*version*: The version in the check_mk tarball - for example if the tarball is\r\n'check_mk-1.2.0p3.tar.gz' then the version is '1.2.0p3'. REQUIRED.\r\n\r\n*filestore*: The location of the tarball.  Default: 'puppet:///files/check_mk'\r\n\r\n*workspace*: The directory to use to store files used during installation.\r\nDefault: '/root/check_mk'\r\n\r\n## Agent\r\n\r\n* Installs the check_mk-agent and check_mk-agent-logwatch RPMs\r\n\r\n* Configures the /etc/xinetd.d/check_mk configuration file\r\n\r\n### Example\r\n\r\n    class { 'check_mk::agent':\r\n      version => '1.2.0p3-1',\r\n      ip_whitelist => [ '10.7.96.21', '10.7.96.22' ],\r\n    }\r\n\r\n### check_mk::agent parameters\r\n\r\n*version*: The version in the check_mk packages - for example if the RPM is\r\n'check_mk-agent-1.2.0p3-1.noarch.rpm' then the version is '1.2.0p3-1'.\r\nREQUIRED.\r\n\r\n*filestore*: The location of the tarball.  Default: 'puppet:///files/check_mk'\r\n\r\n*ip_whitelist*: The list of IP addresses that are allowed to retrieve check_mk\r\ndata. (Note that localhost is always allowed to connect.) By default any IP can\r\nconnect.\r\n\r\n*port*: The port the check_mk agent listens on. Default: '6556'\r\n\r\n*server_dir*: The directory in which the check_mk_agent executable is located.\r\nDefault: '/usr/bin'\r\n\r\n*use_cache*: Whether or not to cache the results - useful with redundant\r\nmonitoring server setups.  Default: 'false'\r\n\r\n*user*: The user that the agent runs as. Default: 'root'\r\n\r\n*workspace*: The directory to use to store files used during installation.\r\nDefault: '/root/check_mk'\r\n\r\n","name":"Puppet-check mk"}